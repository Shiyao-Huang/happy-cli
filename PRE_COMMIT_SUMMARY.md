# ğŸ‰ Pre-commit é’©å­é…ç½®å®Œæˆæ€»ç»“

## âœ… å®‰è£…çŠ¶æ€

- **Pre-commit ç‰ˆæœ¬**: 4.3.0
- **Git Hooks**: å·²å®‰è£…è‡³ `.git/hooks/`
  - âœ… pre-commit
  - âœ… commit-msg

## ğŸ“ å·²åˆ›å»ºæ–‡ä»¶

| æ–‡ä»¶                          | å¤§å°  | æè¿°                       |
| ----------------------------- | ----- | -------------------------- |
| `eslint.config.mjs`           | 2.8KB | ESLint TypeScript ä¸¥æ ¼é…ç½® |
| `.prettierrc`                 | 397B  | Prettier 100å­—ç¬¦è¡Œé•¿åº¦é…ç½® |
| `.pre-commit-config.yaml`     | 1.7KB | Pre-commit é’©å­å®šä¹‰        |
| `.secrets.baseline`           | 2.1KB | å¯†é’¥æ£€æµ‹åŸºçº¿               |
| `DEVELOPMENT.md`              | 3.5KB | å®Œæ•´å¼€å‘æŒ‡å—               |
| `scripts/setup-pre-commit.sh` | 1.8KB | è‡ªåŠ¨å®‰è£…è„šæœ¬               |

## ğŸ”§ å·¥å…·é“¾é…ç½®

### 1. Prettier (ä»£ç æ ¼å¼åŒ–)

- **è¡Œé•¿åº¦é™åˆ¶**: 100 å­—ç¬¦ âœ“
- **ç¼©è¿›**: 2 ç©ºæ ¼
- **å¼•å·**: å•å¼•å·
- **ç‰ˆæœ¬**: 3.6.2

### 2. ESLint (ä»£ç æ£€æŸ¥)

- **æ¨¡å¼**: TypeScript ä¸¥æ ¼æ¨¡å¼
- **è§„åˆ™**: ç¦æ­¢æœªä½¿ç”¨å˜é‡ã€é­”æ³•æ•°å­—ç­‰
- **ç‰ˆæœ¬**: v9.33.0

### 3. TypeScript (ç±»å‹æ£€æŸ¥)

- **æ¨¡å¼**: `--noEmit` ç¼–è¯‘æ£€æŸ¥
- **ç‰ˆæœ¬**: 5.9.2

### 4. Pre-commit Hooks

ä»¥ä¸‹æ£€æŸ¥åœ¨æ¯æ¬¡ `git commit` æ—¶è‡ªåŠ¨è¿è¡Œï¼š

1. âœ… **å°¾éšç©ºç™½æ£€æŸ¥** - è‡ªåŠ¨ä¿®å¤
2. âœ… **æ–‡ä»¶æœ«å°¾æ¢è¡Œ** - è‡ªåŠ¨ä¿®å¤
3. âœ… **åˆå¹¶å†²çªæ£€æŸ¥**
4. âœ… **å¤§å°å†™å†²çªæ£€æŸ¥**
5. âœ… **ç¬¦å·é“¾æ¥æ£€æŸ¥**
6. âœ… **å¤§æ–‡ä»¶æ£€æŸ¥** (é™åˆ¶: 1MB)
7. âœ… **YAML æ ¼å¼æ£€æŸ¥**
8. âœ… **JSON æ ¼å¼æ£€æŸ¥**
9. âœ… **è°ƒè¯•è¯­å¥æ£€æŸ¥**
10. âœ… **TypeScript ç±»å‹æ£€æŸ¥**
11. âœ… **ESLint ä»£ç æ£€æŸ¥** (è‡ªåŠ¨ä¿®å¤)
12. âœ… **Prettier æ ¼å¼åŒ–** (è‡ªåŠ¨ä¿®å¤)
13. âœ… **å¯†é’¥æ³„éœ²æ£€æµ‹**

## ğŸ“ æ–°å¢ npm è„šæœ¬

```bash
npm run format         # æ ¼å¼åŒ–æ‰€æœ‰æ–‡ä»¶
npm run format:check   # æ£€æŸ¥æ ¼å¼
npm run lint           # è¿è¡Œ ESLint
npm run lint:fix       # è‡ªåŠ¨ä¿®å¤ ESLint é—®é¢˜
npm run lint:types     # TypeScript ç±»å‹æ£€æŸ¥
npm run pre-commit     # è¿è¡Œæ‰€æœ‰ pre-commit æ£€æŸ¥
```

## ğŸ¯ ä½¿ç”¨æ–¹å¼

### è‡ªåŠ¨åŒ– (æ¨è)

æ¯æ¬¡ `git commit` æ—¶è‡ªåŠ¨è¿è¡Œæ‰€æœ‰æ£€æŸ¥ï¼Œæ— éœ€æ‰‹åŠ¨æ“ä½œï¼

### æ‰‹åŠ¨æ“ä½œ

```bash
# æ ¼å¼åŒ–ä»£ç 
npx prettier --write "**/*.{ts,js,json,md,css,scss,yaml,html}"

# æ£€æŸ¥ä»£ç 
npx eslint "**/*.{ts,tsx}"

# ç±»å‹æ£€æŸ¥
npx tsc --noEmit

# è¿è¡Œæ‰€æœ‰æ£€æŸ¥
pre-commit run --all-files
```

## ğŸ“Š è¿è¡Œç»“æœ

### é¦–æ¬¡è¿è¡Œç»Ÿè®¡

- **ä¿®å¤æ–‡ä»¶æ•°**: 100+ æ–‡ä»¶
- **ä¸»è¦ä¿®å¤**:
  - æ¸…ç†å°¾éšç©ºç™½å­—ç¬¦
  - æ·»åŠ æ–‡ä»¶æœ«å°¾æ¢è¡Œç¬¦
  - æ ¼å¼æ ‡å‡†åŒ–

### å¯†é’¥æ£€æµ‹

- **æ£€æµ‹åˆ°**: å¤šä¸ªå‡é˜³æ€§ï¼ˆæµ‹è¯•æ•°æ®ã€ç¤ºä¾‹ä»£ç ï¼‰
- **çŠ¶æ€**: âœ… æ­£å¸¸å·¥ä½œ
- **åŸºçº¿æ–‡ä»¶**: `.secrets.baseline` å·²åˆ›å»º

## ğŸš€ åç»­æ­¥éª¤

1. **æäº¤ä»£ç **: æ‰€æœ‰å·¥å…·å·²é…ç½®å®Œæˆï¼Œå¯æ­£å¸¸æäº¤
2. **IDE é›†æˆ**: å»ºè®®å®‰è£… Prettier å’Œ ESLint VSCode æ‰©å±•
3. **CI é›†æˆ**: æŒç»­é›†æˆä¸­è‡ªåŠ¨è¿è¡Œ `npm run lint:types` å’Œ `npm run lint`

## ğŸ” æ•…éšœæ’é™¤

### è·³è¿‡ hooks (ä¸æ¨è)

```bash
git commit --no-verify
```

### é‡æ–°å®‰è£… hooks

```bash
pre-commit uninstall
pre-commit install
pre-commit install --hook-type commit-msg
```

### æ›´æ–° hooks

```bash
pre-commit autoupdate
```

## ğŸ“š æ–‡æ¡£

- å®Œæ•´å¼€å‘æŒ‡å—: `DEVELOPMENT.md`
- Pre-commit æ–‡æ¡£: https://pre-commit.com
- ESLint è§„åˆ™: https://eslint.org/docs/latest/rules
- Prettier é…ç½®: https://prettier.io/docs/en/configuration.html

---

âœ¨ **ä»£ç è§„èŒƒåŒ–å·¥å…·é“¾å·²å®Œå…¨é…ç½®å¹¶å¯ç”¨ï¼**
